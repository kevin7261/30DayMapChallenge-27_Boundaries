# ğŸ—ºï¸ 30 Day Map Challenge - Day 14: Data Challenge - OpenStreetMap

ä¸€å€‹åŸºæ–¼ Vue
3 å’Œ Leaflet çš„äº’å‹•å¼ OpenStreetMap æ•¸æ“šè¦–è¦ºåŒ–æ‡‰ç”¨ï¼Œæ¡ç”¨è«¾é­¯åœ‹æ——é…è‰²ä¸»é¡Œï¼Œå±•ç¤ºåœ°é»ã€é“è·¯ã€äº¤é€šè¨­æ–½å’Œæ°´åŸŸç­‰å¤šå±¤æ¬¡åœ°ç†è³‡æ–™ã€‚

## ğŸ“¸ å°ˆæ¡ˆæ¦‚è¦½

æœ¬å°ˆæ¡ˆæ˜¯ **#30DayMapChallenge** ç¬¬ 14 å¤©çš„ä½œå“ï¼Œä¸»é¡Œç‚ºã€ŒData Challenge -
OpenStreetMapã€ã€‚ä½¿ç”¨ OpenStreetMap æä¾›çš„å¤šç¨®åœ°ç†è³‡æ–™é›†ï¼Œé€éè«¾é­¯åœ‹æ——çš„ç¨ç‰¹é…è‰²ï¼ˆæ·±è—ã€é‡‘é»ƒã€ç™½è‰²ï¼‰å‘ˆç¾è±å¯Œçš„åœ°ç†è³‡è¨Šã€‚

### æ ¸å¿ƒç‰¹é»

- ğŸ‡³ğŸ‡· **è«¾é­¯åœ‹æ——é…è‰²ä¸»é¡Œ**ï¼šæ·±è—è‰²ã€é‡‘é»ƒè‰²ã€ç™½è‰²çš„å’Œè«§æ­é…
- ğŸŒŠ **å¤šå±¤æ¬¡è³‡æ–™å‘ˆç¾**ï¼šåœ°é»ã€æ°´åŸŸã€é“è·¯ã€äº¤é€šè¨­æ–½å››å¤§åœ–å±¤
- ğŸŒ **èµ¤é“ç·šæ¨™ç¤º**ï¼šé‡‘é»ƒè‰²èµ¤é“ç·šï¼Œå‘¼æ‡‰è«¾é­¯ä½æ–¼èµ¤é“é™„è¿‘çš„åœ°ç†ä½ç½®
- ğŸ“ **ç¶“ç·¯ç¶²æ ¼ç³»çµ±**ï¼šç™½è‰²åŠé€æ˜ç¶“ç·¯ç·šï¼Œæä¾›æ¸…æ™°çš„åœ°ç†åƒè€ƒ
- ğŸ¨ **ç´”æ•¸æ“šå¯è¦–åŒ–**ï¼šç„¡åº•åœ–ï¼Œå°ˆæ³¨æ–¼è³‡æ–™æœ¬èº«çš„å‘ˆç¾
- ğŸš« **éäº¤äº’å¼è¨­è¨ˆ**ï¼šç§»é™¤æ‡¸åœå’Œå½ˆå‡ºåŠŸèƒ½ï¼Œå¼·èª¿éœæ…‹ç¾å­¸

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ—ºï¸ åœ°åœ–é¡¯ç¤º

#### åœ–å±¤æ¶æ§‹ï¼ˆç”±ä¸‹è‡³ä¸Šï¼‰

1. **ç¶“ç·¯ç¶²æ ¼å±¤** ğŸŒ

   - æ¯ 10Â° ç¹ªè£½ä¸€æ¢ç¶“ç·¯ç·š
   - é¡è‰²ï¼šç™½è‰² (#FFFFFF)
   - é€æ˜åº¦ï¼š0.2ï¼ˆåŠé€æ˜ï¼‰
   - ä½œç”¨ï¼šæä¾›å…¨çƒåœ°ç†åƒè€ƒæ¡†æ¶

2. **èµ¤é“ç·šå±¤** â˜€ï¸

   - ä½ç½®ï¼šç·¯åº¦ 0Â°
   - é¡è‰²ï¼šé‡‘é»ƒè‰² (#FFC61E)
   - ç·šå¯¬ï¼š4px
   - æ„ç¾©ï¼šè«¾é­¯åœ‹æ——ä¸Šçš„é»ƒè‰²æ©«æ¢ä»£è¡¨èµ¤é“

3. **åœ°é»åœ–å±¤** (gis_osm_places_a_free_1.geojson) ğŸ“

   - å¡«å……è‰²ï¼šè«¾é­¯è— (#002B7F)
   - é‚Šæ¡†è‰²ï¼šé‡‘é»ƒè‰² (#FFC61E)
   - é‚Šæ¡†å¯¬åº¦ï¼š2px
   - é€æ˜åº¦ï¼š0.9
   - å…§å®¹ï¼šè¡Œæ”¿å€åŠƒã€èšè½ç­‰åœ°é»å¤šé‚Šå½¢

4. **æ°´åŸŸåœ–å±¤** (gis_osm_water_a_free_1.geojson) ğŸŒŠ

   - å¡«å……è‰²ï¼šæ·±è—è‰² (#001b4d)
   - é‚Šæ¡†è‰²ï¼šè«¾é­¯è— (#002B7F)
   - é‚Šæ¡†å¯¬åº¦ï¼š1px
   - é€æ˜åº¦ï¼š0.8
   - å…§å®¹ï¼šæ¹–æ³Šã€æ²³æµã€æµ·æ´‹ç­‰æ°´é«”

5. **é“è·¯åœ–å±¤** (gis_osm_roads_free_1.geojson) ğŸ›£ï¸

   - ç·šæ¢è‰²ï¼šé‡‘é»ƒè‰² (#FFC61E)
   - ç·šå¯¬ï¼š1.5px
   - é€æ˜åº¦ï¼š0.7
   - å…§å®¹ï¼šé“è·¯ç¶²çµ¡ï¼ˆLineString å¹¾ä½•ï¼‰

6. **äº¤é€šè¨­æ–½åœ–å±¤** (gis_osm_transport_a_free_1.geojson) ğŸš‰
   - å¡«å……è‰²ï¼šç™½è‰² (#FFFFFF)
   - é‚Šæ¡†è‰²ï¼šé‡‘é»ƒè‰² (#FFC61E)
   - é‚Šæ¡†å¯¬åº¦ï¼š1px
   - é€æ˜åº¦ï¼š0.7
   - å…§å®¹ï¼šæ©Ÿå ´ã€æ¸¯å£ã€è»Šç«™ç­‰äº¤é€šè¨­æ–½

### ğŸ¨ é…è‰²ä¸»é¡Œï¼šè«¾é­¯åœ‹æ——

**ç‚ºä»€éº¼é¸æ“‡è«¾é­¯ï¼Ÿ**

- ğŸŒŠ è«¾é­¯æ˜¯ä¸–ç•Œä¸Šæœ€å°çš„å³¶åœ‹ä¹‹ä¸€ï¼Œèˆ‡ OpenStreetMap çš„ç´°ç¯€å‘ˆç¾ç†å¿µå‘¼æ‡‰
- ğŸŒ è«¾é­¯ä½æ–¼èµ¤é“é™„è¿‘ï¼Œå…¶åœ‹æ——ä¸Šçš„é»ƒè‰²æ©«æ¢æ­£ä»£è¡¨èµ¤é“
- ğŸï¸ ä½œç‚ºå¤ªå¹³æ´‹å³¶åœ‹ï¼Œå…¶é…è‰²èˆ‡æµ·æ´‹ä¸»é¡Œå®Œç¾å¥‘åˆ

**é…è‰²è¦ç¯„**

| é¡è‰²åç¨± | è‰²ç¢¼      | ç”¨é€”               | RGB å€¼             |
| -------- | --------- | ------------------ | ------------------ |
| è«¾é­¯æ·±è— | `#002B7F` | åœ°é»å¡«å……ã€æ°´åŸŸé‚Šæ¡† | RGB(0, 43, 127)    |
| èƒŒæ™¯æ·±è— | `#001b4d` | åœ°åœ–èƒŒæ™¯ã€æ°´åŸŸå¡«å…… | RGB(0, 27, 77)     |
| é‡‘é»ƒè‰²   | `#FFC61E` | èµ¤é“ç·šã€é“è·¯ã€é‚Šæ¡† | RGB(255, 198, 30)  |
| ç™½è‰²     | `#FFFFFF` | ç¶“ç·¯ç¶²æ ¼ã€äº¤é€šè¨­æ–½ | RGB(255, 255, 255) |

### ğŸ”§ äº¤äº’åŠŸèƒ½

- âœ… **æ»¾è¼ªç¸®æ”¾**ï¼šé¼ æ¨™æ»¾è¼ªæ§åˆ¶åœ°åœ–ç¸®æ”¾ç´šåˆ¥
- âœ… **æ‹–å‹•å¹³ç§»**ï¼šé»æ“Šæ‹–å‹•ç€è¦½ä¸åŒå€åŸŸ
- âœ… **è§¸æ§æ”¯æŒ**ï¼šå®Œæ•´çš„ç§»å‹•è¨­å‚™æ‰‹å‹¢æ”¯æŒ
- âŒ **ç„¡äº¤äº’åœ–å±¤**ï¼šæ‰€æœ‰æ•¸æ“šåœ–å±¤è¨­ç½®ç‚º `interactive: false`
- âŒ **ç„¡æ‡¸åœæ•ˆæœ**ï¼šå°ˆæ³¨æ–¼éœæ…‹è¦–è¦ºå‘ˆç¾
- âŒ **ç„¡å½ˆå‡ºçª—å£**ï¼šç§»é™¤æ‰€æœ‰ popup å’Œ tooltip

### ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

- è‡ªå‹•é©æ‡‰ä¸åŒè¢å¹•å°ºå¯¸
- åœ°åœ–è¦–åœ–è‡ªå‹•èª¿æ•´åˆ°æ•¸æ“šç¯„åœ
- æ”¯æ´æ¡Œé¢å’Œç§»å‹•è¨­å‚™

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“æ£§

| æŠ€è¡“       | ç‰ˆæœ¬ | ç”¨é€”                        |
| ---------- | ---- | --------------------------- |
| Vue 3      | 3.2+ | å‰ç«¯æ¡†æ¶ï¼ˆComposition APIï¼‰ |
| Leaflet    | 1.9+ | åœ°åœ–æ¸²æŸ“å’Œäº¤äº’              |
| Pinia      | 2.1+ | ç‹€æ…‹ç®¡ç†                    |
| Bootstrap  | 5.3+ | UI æ¨£å¼æ¡†æ¶                 |
| Vue Router | 4.5+ | å–®é é¢è·¯ç”±                  |

### ç‚ºä»€éº¼é¸æ“‡ Leafletï¼Ÿ

1. **è¼•é‡é«˜æ•ˆ**ï¼šç›¸æ¯” D3.jsï¼ŒLeaflet å°ˆç‚ºåœ°åœ–è¨­è¨ˆï¼Œæ€§èƒ½æ›´å„ª
2. **åŸç”Ÿæ”¯æŒ**ï¼šå…§å»ºç¸®æ”¾ã€å¹³ç§»ç­‰åœ°åœ–äº¤äº’åŠŸèƒ½
3. **GeoJSON å‹å¥½**ï¼šå®Œç¾æ”¯æŒ OSM çš„ GeoJSON æ ¼å¼
4. **æ’ä»¶è±å¯Œ**ï¼šæ“æœ‰é¾å¤§çš„æ’ä»¶ç”Ÿæ…‹ç³»çµ±
5. **ç§»å‹•å„ªåŒ–**ï¼šåŸç”Ÿæ”¯æŒè§¸æ§æ‰‹å‹¢

### å°ˆæ¡ˆçµæ§‹

```
30DayMapChallenge-14_Data-challenge-OpenStreetMap/
â”‚
â”œâ”€â”€ public/                          # éœæ…‹è³‡æºç›®éŒ„
â”‚   â”œâ”€â”€ data/                        # æ•¸æ“šæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ geojson/                 # GeoJSON æ•¸æ“šé›†
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_places_a_free_1.geojson       # åœ°é»å¤šé‚Šå½¢
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_places_a_free_1.qmd           # å…ƒæ•¸æ“š
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_roads_free_1.geojson          # é“è·¯ç¶²çµ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_roads_free_1.qmd              # å…ƒæ•¸æ“š
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_transport_a_free_1.geojson    # äº¤é€šè¨­æ–½
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_transport_a_free_1.qmd        # å…ƒæ•¸æ“š
â”‚   â”‚   â”‚   â”œâ”€â”€ gis_osm_water_a_free_1.geojson        # æ°´åŸŸ
â”‚   â”‚   â”‚   â””â”€â”€ gis_osm_water_a_free_1.qmd            # å…ƒæ•¸æ“š
â”‚   â”‚   â””â”€â”€ README.md                # æ•¸æ“šèªªæ˜æ–‡æª”
â”‚   â”œâ”€â”€ favicon.ico                  # ç¶²ç«™åœ–æ¨™
â”‚   â””â”€â”€ index.html                   # HTML æ¨¡æ¿
â”‚
â”œâ”€â”€ src/                             # æºä»£ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ assets/                      # è³‡æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”‚   â”œâ”€â”€ common.css           # é€šç”¨æ¨£å¼
â”‚   â”‚   â”‚   â””â”€â”€ variables.css        # CSS è®Šæ•¸å®šç¾©
â”‚   â”‚   â””â”€â”€ logo.png                 # Logo åœ–ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                      # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ dataStore.js             # æ•¸æ“šç‹€æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ defineStore.js           # Store é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ tabs/                        # æ¨™ç±¤é çµ„ä»¶
â”‚   â”‚   â””â”€â”€ MapTab.vue               # ğŸ—ºï¸ åœ°åœ–çµ„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ views/                       # è¦–åœ–é é¢
â”‚   â”‚   â””â”€â”€ HomeView.vue             # ä¸»é è¦–åœ–
â”‚   â”‚
â”‚   â”œâ”€â”€ router/                      # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js                 # Vue Router è¨­å®š
â”‚   â”‚
â”‚   â”œâ”€â”€ App.vue                      # æ ¹çµ„ä»¶
â”‚   â””â”€â”€ main.js                      # æ‡‰ç”¨ç¨‹åºå…¥å£
â”‚
â”œâ”€â”€ dist/                            # æ§‹å»ºè¼¸å‡ºç›®éŒ„
â”œâ”€â”€ node_modules/                    # NPM ä¾è³´åŒ…
â”‚
â”œâ”€â”€ .gitignore                       # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ babel.config.js                  # Babel é…ç½®
â”œâ”€â”€ jsconfig.json                    # JavaScript é…ç½®
â”œâ”€â”€ package.json                     # NPM åŒ…é…ç½®
â”œâ”€â”€ package-lock.json                # ä¾è³´é–å®šæ–‡ä»¶
â”œâ”€â”€ vue.config.js                    # Vue CLI é…ç½®
â””â”€â”€ README.md                        # ğŸ“– æœ¬æ–‡ä»¶
```

### æ ¸å¿ƒçµ„ä»¶èªªæ˜

#### MapTab.vue - åœ°åœ–çµ„ä»¶

é€™æ˜¯æ•´å€‹æ‡‰ç”¨çš„æ ¸å¿ƒçµ„ä»¶ï¼Œè² è²¬æ‰€æœ‰åœ°åœ–ç›¸é—œçš„åŠŸèƒ½ã€‚

**ä¸»è¦åŠŸèƒ½æ¨¡å¡Šï¼š**

1. **æ•¸æ“šè¼‰å…¥æ¨¡å¡Š** (`loadAllData`)

   - ä¸¦è¡Œè¼‰å…¥å››å€‹ GeoJSON æ–‡ä»¶
   - ä½¿ç”¨ Promise.all å„ªåŒ–è¼‰å…¥é€Ÿåº¦
   - éŒ¯èª¤è™•ç†å’Œç‹€æ…‹åé¥‹

2. **åœ°åœ–åˆå§‹åŒ–æ¨¡å¡Š** (`createMap`)

   - å‰µå»º Leaflet åœ°åœ–å¯¦ä¾‹
   - é…ç½®åœ°åœ–é¸é …ï¼ˆç¦ç”¨ç¸®æ”¾æŒ‰éˆ•ã€æ­¸å±¬ä¿¡æ¯ï¼‰
   - è¨­ç½®åˆå§‹è¦–åœ–ï¼ˆä¸­å¿ƒé»åœ¨èµ¤é“ï¼‰

3. **ç¶“ç·¯ç¶²æ ¼ç¹ªè£½** (`drawGraticule`)

   - ç¹ªè£½ç¶“ç·šï¼ˆ-180Â° åˆ° 180Â°ï¼Œæ¯ 10Â°ï¼‰
   - ç¹ªè£½ç·¯ç·šï¼ˆ-80Â° åˆ° 80Â°ï¼Œæ¯ 10Â°ï¼‰
   - ç™½è‰²åŠé€æ˜æ¨£å¼

4. **èµ¤é“ç·šç¹ªè£½** (`drawEquator`)

   - ç¹ªè£½ç·¯åº¦ 0Â° çš„æ°´å¹³ç·š
   - é‡‘é»ƒè‰²å¯¦ç·šï¼Œç·šå¯¬ 4px
   - æ©«è·¨å…¨çƒï¼ˆ-180Â° åˆ° 180Â°ï¼‰

5. **æ•¸æ“šåœ–å±¤ç¹ªè£½**

   - `drawPlaces()`: åœ°é»å¤šé‚Šå½¢åœ–å±¤
   - `drawWater()`: æ°´åŸŸåœ–å±¤
   - `drawRoads()`: é“è·¯ç·šæ¢åœ–å±¤
   - `drawTransport()`: äº¤é€šè¨­æ–½åœ–å±¤

6. **ç”Ÿå‘½é€±æœŸç®¡ç†**
   - `onMounted`: åˆå§‹åŒ–åœ°åœ–
   - `onUnmounted`: æ¸…ç†è³‡æºï¼Œç§»é™¤äº‹ä»¶ç›£è½

#### dataStore.js - ç‹€æ…‹ç®¡ç†

ç°¡åŒ–çš„ç‹€æ…‹ç®¡ç†ï¼Œä¸»è¦å­˜å„²åœ°åœ–å¯¦ä¾‹ï¼š

```javascript
{
  mapInstance: null,        // Leaflet åœ°åœ–å¯¦ä¾‹å¼•ç”¨
  setMapInstance: Function  // è¨­ç½®åœ°åœ–å¯¦ä¾‹çš„æ–¹æ³•
}
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚

- **Node.js**: >= 16.0.0
- **npm**: >= 7.0.0 æˆ– **yarn**: >= 1.22.0
- **ç€è¦½å™¨**: æ”¯æŒ ES6+ çš„ç¾ä»£ç€è¦½å™¨ï¼ˆChrome 90+, Firefox 88+, Safari 14+ï¼‰

### å®‰è£æ­¥é©Ÿ

#### 1. å…‹éš†å°ˆæ¡ˆ

```bash
# HTTPS æ–¹å¼
git clone https://github.com/kevin7261/30DayMapChallenge-14_Data-challenge-OpenStreetMap.git

# SSH æ–¹å¼ï¼ˆéœ€è¦é…ç½® SSH keyï¼‰
git clone git@github.com:kevin7261/30DayMapChallenge-14_Data-challenge-OpenStreetMap.git

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd 30DayMapChallenge-14_Data-challenge-OpenStreetMap/website/30DayMapChallenge-14_Data-challenge-OpenStreetMap
```

#### 2. å®‰è£ä¾è³´

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

**ä¸»è¦ä¾è³´é …ï¼š**

```json
{
  "dependencies": {
    "vue": "^3.2.13", // Vue 3 æ¡†æ¶
    "vue-router": "^4.5.1", // è·¯ç”±ç®¡ç†
    "pinia": "^2.1.0", // ç‹€æ…‹ç®¡ç†
    "leaflet": "^1.9.4", // åœ°åœ–åº«
    "bootstrap": "^5.3.0", // UI æ¡†æ¶
    "@fortawesome/fontawesome-free": "^6.7.2" // åœ–æ¨™åº«
  }
}
```

#### 3. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨

```bash
npm run serve
```

é–‹ç™¼æœå‹™å™¨å°‡åœ¨
`http://localhost:8080/30DayMapChallenge-14_Data-challenge-OpenStreetMap/` å•Ÿå‹•

**é–‹ç™¼æœå‹™å™¨ç‰¹æ€§ï¼š**

- ğŸ”¥ ç†±æ¨¡å¡Šæ›¿æ›ï¼ˆHMRï¼‰
- ğŸ”§ è‡ªå‹•é‡æ–°è¼‰å…¥
- ğŸ“ å³æ™‚éŒ¯èª¤æç¤º
- ğŸš€ å¿«é€Ÿç·¨è­¯

#### 4. æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run build
```

æ§‹å»ºç”¢ç‰©å°‡è¼¸å‡ºåˆ° `dist/` ç›®éŒ„

**æ§‹å»ºå„ªåŒ–ï¼š**

- âœ… ä»£ç¢¼å£“ç¸®
- âœ… Tree Shaking
- âœ… è³‡æºå„ªåŒ–
- âœ… Source Map ç”Ÿæˆ

#### 5. éƒ¨ç½²åˆ° GitHub Pages

```bash
npm run deploy
```

é€™å°‡è‡ªå‹•æ§‹å»ºä¸¦éƒ¨ç½²åˆ° GitHub Pages

## ğŸ“š é–‹ç™¼æŒ‡å—

### ä¿®æ”¹åœ°åœ–é…è‰²

åœ¨ `src/tabs/MapTab.vue` ä¸­ä¿®æ”¹å„åœ–å±¤çš„é¡è‰²ï¼š

```javascript
// åœ°é»åœ–å±¤é…è‰²
placesLayer = L.geoJSON(placesData.value, {
  style: {
    fillColor: '#002B7F', // å¡«å……è‰²ï¼šè«¾é­¯æ·±è—
    fillOpacity: 0.9, // å¡«å……é€æ˜åº¦
    color: '#FFC61E', // é‚Šæ¡†è‰²ï¼šé‡‘é»ƒè‰²
    weight: 2, // é‚Šæ¡†å¯¬åº¦
  },
});

// æ°´åŸŸåœ–å±¤é…è‰²
waterLayer = L.geoJSON(waterData.value, {
  style: {
    fillColor: '#001b4d', // å¡«å……è‰²ï¼šèƒŒæ™¯æ·±è—
    fillOpacity: 0.8,
    color: '#002B7F', // é‚Šæ¡†è‰²ï¼šè«¾é­¯è—
    weight: 1,
  },
});

// é“è·¯åœ–å±¤é…è‰²
roadsLayer = L.geoJSON(roadsData.value, {
  style: {
    color: '#FFC61E', // ç·šæ¢è‰²ï¼šé‡‘é»ƒè‰²
    weight: 1.5, // ç·šå¯¬
    opacity: 0.7, // é€æ˜åº¦
  },
});

// äº¤é€šè¨­æ–½åœ–å±¤é…è‰²
transportLayer = L.geoJSON(transportData.value, {
  style: {
    fillColor: '#FFFFFF', // å¡«å……è‰²ï¼šç™½è‰²
    fillOpacity: 0.7,
    color: '#FFC61E', // é‚Šæ¡†è‰²ï¼šé‡‘é»ƒè‰²
    weight: 1,
  },
});
```

### èª¿æ•´åœ–å±¤é †åº

åœ¨ `initMap()` å‡½æ•¸ä¸­èª¿æ•´ç¹ªè£½é †åºï¼ˆå…ˆç¹ªè£½çš„åœ¨ä¸‹å±¤ï¼‰ï¼š

```javascript
if (createMap()) {
  drawGraticule(); // 1. ç¶“ç·¯ç¶²æ ¼ï¼ˆæœ€åº•å±¤ï¼‰
  drawEquator(); // 2. èµ¤é“ç·š
  drawPlaces(); // 3. åœ°é»åœ–å±¤ â¬…ï¸ å¯èª¿æ•´é †åº
  drawWater(); // 4. æ°´åŸŸåœ–å±¤
  drawRoads(); // 5. é“è·¯åœ–å±¤
  drawTransport(); // 6. äº¤é€šè¨­æ–½ï¼ˆæœ€ä¸Šå±¤ï¼‰
}
```

### å•Ÿç”¨äº¤äº’åŠŸèƒ½

å¦‚éœ€å•Ÿç”¨æ‡¸åœå’Œå½ˆå‡ºåŠŸèƒ½ï¼Œä¿®æ”¹ `drawPlaces()` å‡½æ•¸ï¼š

```javascript
placesLayer = L.geoJSON(placesData.value, {
  style: {
    /* æ¨£å¼é…ç½® */
  },
  interactive: true, // æ”¹ç‚º true å•Ÿç”¨äº¤äº’
  onEachFeature: (feature, layer) => {
    // æ·»åŠ å½ˆå‡ºçª—å£
    const placeName = feature.properties?.name || 'Unknown';
    layer.bindPopup(`<strong>${placeName}</strong>`);

    // æ·»åŠ å·¥å…·æç¤º
    layer.bindTooltip(placeName);

    // æ·»åŠ æ‡¸åœæ•ˆæœ
    layer.on({
      mouseover: (e) => {
        e.target.setStyle({ fillOpacity: 1 });
      },
      mouseout: (e) => {
        e.target.setStyle({ fillOpacity: 0.9 });
      },
    });
  },
});
```

### ä¿®æ”¹ç¶“ç·¯ç¶²æ ¼å¯†åº¦

åœ¨ `drawGraticule()` å‡½æ•¸ä¸­èª¿æ•´é–“éš”ï¼š

```javascript
// ç¶“ç·šé–“éš”ï¼ˆç•¶å‰ï¼šæ¯ 10Â°ï¼‰
for (let lng = -180; lng <= 180; lng += 10) {
  // æ”¹ç‚º 20 å¯æ¸›å°‘å¯†åº¦
  // ...
}

// ç·¯ç·šé–“éš”ï¼ˆç•¶å‰ï¼šæ¯ 10Â°ï¼‰
for (let lat = -80; lat <= 80; lat += 10) {
  // æ”¹ç‚º 15 å¯æ¸›å°‘å¯†åº¦
  // ...
}
```

### èª¿æ•´åœ°åœ–åˆå§‹è¦–åœ–

åœ¨ `createMap()` å‡½æ•¸ä¸­ä¿®æ”¹ï¼š

```javascript
map = L.map(mapContainer.value, {
  center: [0, 0], // ä¸­å¿ƒé» [ç·¯åº¦, ç¶“åº¦]
  zoom: 2, // åˆå§‹ç¸®æ”¾ç´šåˆ¥ï¼ˆ1-19ï¼‰
  minZoom: 1, // æœ€å°ç¸®æ”¾ç´šåˆ¥
  maxZoom: 18, // æœ€å¤§ç¸®æ”¾ç´šåˆ¥
  zoomControl: false, // æ˜¯å¦é¡¯ç¤º +/- æŒ‰éˆ•
});
```

### æ·»åŠ æ–°çš„æ•¸æ“šåœ–å±¤

1. **æº–å‚™ GeoJSON æ•¸æ“š**

   - å°‡æ–‡ä»¶æ”¾å…¥ `public/data/geojson/`
   - ç¢ºä¿æ˜¯æœ‰æ•ˆçš„ GeoJSON æ ¼å¼

2. **æ·»åŠ æ•¸æ“šå¼•ç”¨**

   ```javascript
   const newLayerData = ref(null);
   ```

3. **è¼‰å…¥æ•¸æ“š**

   ```javascript
   const loadAllData = async () => {
     const newResponse = await fetch(
       `${process.env.BASE_URL}data/geojson/new-layer.geojson`
     );
     newLayerData.value = await newResponse.json();
   };
   ```

4. **å‰µå»ºç¹ªè£½å‡½æ•¸**

   ```javascript
   const drawNewLayer = () => {
     if (!map || !newLayerData.value) return;

     L.geoJSON(newLayerData.value, {
       style: {
         fillColor: '#YOUR_COLOR',
         // ... æ¨£å¼é…ç½®
       },
     }).addTo(map);
   };
   ```

5. **æ·»åŠ åˆ°åˆå§‹åŒ–æµç¨‹**
   ```javascript
   if (createMap()) {
     // ... å…¶ä»–åœ–å±¤
     drawNewLayer(); // åœ¨é©ç•¶ä½ç½®èª¿ç”¨
   }
   ```

## ğŸ“Š æ•¸æ“šä¾†æº

### OpenStreetMap (OSM)

æœ¬å°ˆæ¡ˆä½¿ç”¨çš„æ‰€æœ‰ GeoJSON æ•¸æ“šä¾†è‡ª **OpenStreetMap**ï¼Œä¸€å€‹è‡ªç”±ã€é–‹æ”¾çš„åœ°åœ–é …ç›®ã€‚

**æ•¸æ“šé›†è©³æƒ…ï¼š**

| æ–‡ä»¶å                               | å…§å®¹         | å¹¾ä½•é¡å‹                     | å¤§å°ï¼ˆç´„ï¼‰ |
| ------------------------------------ | ------------ | ---------------------------- | ---------- |
| `gis_osm_places_a_free_1.geojson`    | åœ°é»ã€è¡Œæ”¿å€ | Polygon / MultiPolygon       | æ•¸ MB      |
| `gis_osm_roads_free_1.geojson`       | é“è·¯ç¶²çµ¡     | LineString / MultiLineString | æ•¸ MB      |
| `gis_osm_transport_a_free_1.geojson` | äº¤é€šè¨­æ–½     | Polygon / Point              | < 1 MB     |
| `gis_osm_water_a_free_1.geojson`     | æ°´åŸŸ         | Polygon / MultiPolygon       | æ•¸ MB      |

**æ•¸æ“šå±¬æ€§å­—æ®µï¼š**

```javascript
// åœ°é»æ•¸æ“šå±¬æ€§ç¤ºä¾‹
{
  "name": "åœ°é»åç¨±",
  "fclass": "åŠŸèƒ½åˆ†é¡ï¼ˆå¦‚ city, town, villageï¼‰",
  "population": "äººå£æ•¸ï¼ˆå¦‚æœ‰ï¼‰"
}

// é“è·¯æ•¸æ“šå±¬æ€§ç¤ºä¾‹
{
  "name": "é“è·¯åç¨±",
  "fclass": "é“è·¯é¡å‹ï¼ˆå¦‚ motorway, primary, secondaryï¼‰",
  "oneway": "å–®è¡Œé“æ¨™è¨˜"
}
```

**æ•¸æ“šä¾†æºï¼š**

- å®˜ç¶²ï¼šhttps://www.openstreetmap.org/
- æˆæ¬Šï¼š[Open Database License (ODbL)](https://opendatacommons.org/licenses/odbl/)
- è²¢ç»è€…ï¼šå…¨çƒ OpenStreetMap ç¤¾ç¾¤

**æ•¸æ“šä¸‹è¼‰ï¼š**

- Geofabrikï¼šhttps://download.geofabrik.de/
- BBBikeï¼šhttps://extract.bbbike.org/

### æˆæ¬Šèªªæ˜

æ ¹æ“š ODbL æˆæ¬Šæ¢æ¬¾ï¼š

- âœ… å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†ç™¼æ•¸æ“š
- âœ… å¯ç”¨æ–¼å•†æ¥­ç”¨é€”
- âš ï¸ å¿…é ˆè¨»æ˜æ•¸æ“šä¾†æºï¼ˆOpenStreetMap è²¢ç»è€…ï¼‰
- âš ï¸ è¡ç”Ÿä½œå“éœ€ä½¿ç”¨ç›¸åŒæˆæ¬Š

## ğŸ¨ æ¨£å¼è‡ªè¨‚

### CSS è®Šæ•¸ç³»çµ±

åœ¨ `src/assets/css/variables.css` ä¸­å®šç¾©äº†å…¨å±€ CSS è®Šæ•¸ï¼š

```css
:root {
  /* è«¾é­¯åœ‹æ——é…è‰² */
  --nauru-blue: #002b7f;
  --nauru-yellow: #ffc61e;
  --nauru-dark-blue: #001b4d;

  /* åœ°åœ–æ¨£å¼ */
  --map-background: var(--nauru-dark-blue);
  --equator-color: var(--nauru-yellow);
  --grid-color: #ffffff;

  /* UI å…ƒç´  */
  --popup-bg: rgba(0, 43, 127, 0.95);
  --popup-text: var(--nauru-yellow);
}
```

### çµ„ä»¶æ¨£å¼

åœ¨ `MapTab.vue` ä¸­çš„ `<style scoped>` å€å¡Šï¼š

```css
/* åœ°åœ–å®¹å™¨èƒŒæ™¯ */
:deep(.leaflet-container) {
  background: #001b4d; /* æ·±è—è‰²èƒŒæ™¯ */
}

/* å½ˆå‡ºçª—å£æ¨£å¼ */
:deep(.leaflet-popup-content-wrapper) {
  background: rgba(0, 43, 127, 0.95);
  color: #ffc61e;
  border: 2px solid #ffc61e;
}

/* å·¥å…·æç¤ºæ¨£å¼ */
:deep(.leaflet-tooltip) {
  background-color: rgba(0, 43, 127, 0.95) !important;
  color: #ffc61e !important;
  border: 1px solid #ffc61e !important;
}
```

## ğŸŒ ç·šä¸Šå±•ç¤º

### GitHub Pages

**æ­£å¼ç¶²ç«™ï¼š**
https://kevin7261.github.io/30DayMapChallenge-14_Data-challenge-OpenStreetMap/

**å°ˆæ¡ˆå€‰åº«ï¼š**
https://github.com/kevin7261/30DayMapChallenge-14_Data-challenge-OpenStreetMap

### æœ¬åœ°é è¦½

æ§‹å»ºå¾Œå¯ä½¿ç”¨ä»»ä½•éœæ…‹æ–‡ä»¶æœå‹™å™¨é è¦½ï¼š

```bash
# ä½¿ç”¨ Python 3
cd dist
python -m http.server 8000

# ä½¿ç”¨ Node.js http-server
npx http-server dist -p 8000

# ä½¿ç”¨ serve
npx serve dist
```

## ğŸ“ é–‹ç™¼æŒ‡ä»¤

### å¸¸ç”¨æŒ‡ä»¤

```bash
# å®‰è£ä¾è³´
npm install

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨ï¼ˆç†±é‡è¼‰ï¼‰
npm run serve

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
npm run build

# ä»£ç¢¼æª¢æŸ¥ï¼ˆESLintï¼‰
npm run lint

# è‡ªå‹•ä¿®å¾©ä»£ç¢¼å•é¡Œ
npm run lint:fix

# ä»£ç¢¼æ ¼å¼åŒ–ï¼ˆPrettierï¼‰
npm run prettier

# æ ¼å¼åŒ–æª¢æŸ¥
npm run prettier:check

# å®Œæ•´æ ¼å¼åŒ–ï¼ˆPrettier + ESLintï¼‰
npm run format

# éƒ¨ç½²åˆ° GitHub Pages
npm run deploy
```

### é–‹ç™¼å·¥ä½œæµç¨‹

```bash
# 1. é–‹ç™¼æ–°åŠŸèƒ½
git checkout -b feature/new-feature
npm run serve  # å•Ÿå‹•é–‹ç™¼æœå‹™å™¨

# 2. ä»£ç¢¼æª¢æŸ¥å’Œæ ¼å¼åŒ–
npm run format

# 3. æ§‹å»ºæ¸¬è©¦
npm run build

# 4. æäº¤ä»£ç¢¼
git add .
git commit -m "feat: add new feature"
git push origin feature/new-feature

# 5. éƒ¨ç½²ï¼ˆåƒ…ä¸»åˆ†æ”¯ï¼‰
git checkout main
npm run deploy
```

## ğŸ”§ é…ç½®æ–‡ä»¶

### vue.config.js

```javascript
module.exports = {
  publicPath:
    process.env.NODE_ENV === 'production'
      ? '/30DayMapChallenge-14_Data-challenge-OpenStreetMap/'
      : '/',
  // å…¶ä»–é…ç½®...
};
```

### babel.config.js

```javascript
module.exports = {
  presets: ['@vue/cli-plugin-babel/preset'],
};
```

### .gitignore

```
node_modules/
dist/
.DS_Store
*.log
.env.local
```

## ğŸ› å¸¸è¦‹å•é¡Œ

### åœ°åœ–ä¸é¡¯ç¤º

**å•é¡Œï¼š** åœ°åœ–å®¹å™¨æ˜¯ç©ºç™½çš„

**è§£æ±ºæ–¹æ¡ˆï¼š**

1. ç¢ºèªå·²å®‰è£ Leaflet CSSï¼š`import 'leaflet/dist/leaflet.css'`
2. æª¢æŸ¥å®¹å™¨æœ‰æ˜ç¢ºçš„é«˜åº¦ï¼š`height: 100%`
3. æª¢æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰ GeoJSON è¼‰å…¥éŒ¯èª¤

### æ•¸æ“šè¼‰å…¥å¤±æ•—

**å•é¡Œï¼š** GeoJSON æ–‡ä»¶ 404 éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆï¼š**

1. ç¢ºèªæ–‡ä»¶è·¯å¾‘æ­£ç¢ºï¼š`public/data/geojson/`
2. æª¢æŸ¥ `process.env.BASE_URL` è¨­ç½®
3. é©—è­‰ GeoJSON æ ¼å¼æœ‰æ•ˆæ€§

### åœ–å±¤é †åºéŒ¯èª¤

**å•é¡Œï¼š** æŸäº›åœ–å±¤è¢«å…¶ä»–åœ–å±¤è¦†è“‹

**è§£æ±ºæ–¹æ¡ˆï¼š**

1. èª¿æ•´ `initMap()` ä¸­çš„ç¹ªè£½é †åº
2. å…ˆç¹ªè£½çš„åœ–å±¤åœ¨ä¸‹å±¤
3. ä½¿ç”¨ `layer.bringToFront()` æˆ– `layer.bringToBack()` å‹•æ…‹èª¿æ•´

### æ€§èƒ½å•é¡Œ

**å•é¡Œï¼š** å¤§é‡æ•¸æ“šæ™‚åœ°åœ–å¡é “

**è§£æ±ºæ–¹æ¡ˆï¼š**

1. å•Ÿç”¨ Canvas æ¸²æŸ“ï¼š`preferCanvas: true`
2. ç°¡åŒ– GeoJSON å¹¾ä½•ï¼ˆä½¿ç”¨ mapshaperï¼‰
3. ä½¿ç”¨åœ–å±¤åˆ†çµ„å’Œæ§åˆ¶å™¨
4. å¯¦ç¾æ•¸æ“šæ‡¶åŠ è¼‰

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æ‰€æœ‰å½¢å¼çš„è²¢ç»ï¼ä»¥ä¸‹æ˜¯åƒèˆ‡æ–¹å¼ï¼š

### å ±å‘Šå•é¡Œ

1. åœ¨
   [Issues](https://github.com/kevin7261/30DayMapChallenge-14_Data-challenge-OpenStreetMap/issues)
   é é¢å‰µå»ºæ–° Issue
2. æä¾›è©³ç´°çš„éŒ¯èª¤æè¿°å’Œå¾©ç¾æ­¥é©Ÿ
3. é™„ä¸Šè¢å¹•æˆªåœ–æˆ–éŒ¯èª¤æ—¥èªŒ

### æäº¤ä»£ç¢¼

1. **Fork å°ˆæ¡ˆ**

   ```bash
   # åœ¨ GitHub ä¸Šé»æ“Š Fork æŒ‰éˆ•
   ```

2. **å…‹éš† Fork çš„å€‰åº«**

   ```bash
   git clone https://github.com/YOUR_USERNAME/30DayMapChallenge-14_Data-challenge-OpenStreetMap.git
   cd 30DayMapChallenge-14_Data-challenge-OpenStreetMap
   ```

3. **å‰µå»ºåŠŸèƒ½åˆ†æ”¯**

   ```bash
   git checkout -b feature/amazing-feature
   ```

4. **æäº¤æ›´æ”¹**

   ```bash
   git add .
   git commit -m "feat: add amazing feature"
   ```

5. **æ¨é€åˆ° GitHub**

   ```bash
   git push origin feature/amazing-feature
   ```

6. **å‰µå»º Pull Request**
   - åœ¨ GitHub ä¸Šæ‰“é–‹ Pull Request
   - æè¿°ä½ çš„æ›´æ”¹å’Œç›®çš„
   - ç­‰å¾…ä»£ç¢¼å¯©æŸ¥

### ä»£ç¢¼è¦ç¯„

- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ä½¿ç”¨æœ‰æ„ç¾©çš„è®Šæ•¸å’Œå‡½æ•¸åç¨±
- æ·»åŠ å¿…è¦çš„è¨»é‡‹
- æäº¤å‰é‹è¡Œ `npm run format`

### Commit è¦ç¯„

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¾© bug
docs: æ–‡æª”æ›´æ–°
style: ä»£ç¢¼æ ¼å¼èª¿æ•´
refactor: é‡æ§‹ä»£ç¢¼
test: æ¸¬è©¦ç›¸é—œ
chore: æ§‹å»º/å·¥å…·ç›¸é—œ
```

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ **MIT License** æˆæ¬Šã€‚

```
MIT License

Copyright (c) 2024 Kevin Cheng

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

### æ•¸æ“šæˆæ¬Š

OpenStreetMap æ•¸æ“šæ¡ç”¨
[Open Database License (ODbL)](https://opendatacommons.org/licenses/odbl/)
æˆæ¬Šã€‚

## ğŸ™ è‡´è¬

### é–‹æºé …ç›®

- **[Leaflet](https://leafletjs.com/)** - é ˜å…ˆçš„é–‹æºåœ°åœ–åº«
- **[Vue.js](https://vuejs.org/)** - æ¼¸é€²å¼ JavaScript æ¡†æ¶
- **[OpenStreetMap](https://www.openstreetmap.org/)** - è‡ªç”±çš„ä¸–ç•Œåœ°åœ–
- **[Pinia](https://pinia.vuejs.org/)** - Vue 3 ç‹€æ…‹ç®¡ç†
- **[Bootstrap](https://getbootstrap.com/)** - æµè¡Œçš„ CSS æ¡†æ¶

### æ•¸æ“šæä¾›

- **OpenStreetMap è²¢ç»è€…** - æ„Ÿè¬å…¨çƒå¿—é¡˜è€…æä¾›å…è²»åœ°ç†æ•¸æ“š
- **Geofabrik** - æä¾› OSM æ•¸æ“šä¸‹è¼‰æœå‹™

### éˆæ„Ÿä¾†æº

- **#30DayMapChallenge** - ç”± Topi Tjukanov ç™¼èµ·çš„åœ°åœ–æŒ‘æˆ°
- **è«¾é­¯å…±å’Œåœ‹** - ç¨ç‰¹çš„åœ‹æ——é…è‰²éˆæ„Ÿ

## ğŸ“® è¯ç¹«æ–¹å¼

- **GitHub**: [@kevin7261](https://github.com/kevin7261)
- **Project Link**:
  [30DayMapChallenge-14_Data-challenge-OpenStreetMap](https://github.com/kevin7261/30DayMapChallenge-14_Data-challenge-OpenStreetMap)

## ğŸ“Œ é …ç›®ç‹€æ…‹

- âœ… **é–‹ç™¼ä¸­**
- ğŸš€ **å·²éƒ¨ç½²** @ GitHub Pages
- ğŸ“… **æœ€å¾Œæ›´æ–°**: 2024

---

<div align="center">

**#30DayMapChallenge** ğŸ—ºï¸ **Day 14**: Data Challenge - OpenStreetMap

Made with â¤ï¸ using Vue 3 + Leaflet

ğŸ‡³ğŸ‡· Inspired by the flag of Nauru

[â¬† å›åˆ°é ‚éƒ¨](#-30-day-map-challenge---day-14-data-challenge---openstreetmap)

</div>
